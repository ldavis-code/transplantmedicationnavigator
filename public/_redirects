# Netlify redirects file
# API routes must come FIRST (before SPA fallback)

# API routes - proxy to Netlify Functions
/api/chat              /.netlify/functions/chat              200!
/api/admin-auth/*      /.netlify/functions/admin-auth/:splat 200!
/api/admin-api/*       /.netlify/functions/admin-api/:splat  200!
/api/*                 /.netlify/functions/:splat            200!

# Outbound tracking redirects
/out/copay/*           /.netlify/functions/out-redirect      200!
/out/foundation/*      /.netlify/functions/out-redirect      200!
/out/pap/*             /.netlify/functions/out-redirect      200!

# SPA fallback - all other routes go to index.html
/*                     /index.html                           200!
